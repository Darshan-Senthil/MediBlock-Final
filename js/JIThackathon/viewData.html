<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>view</title>

    <link rel="stylesheet" type="text/css" href="main.css">

    <script src="./node_modules/web3/dist/web3.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
</head>
<body>

	<div style="position:fixed;bottom:10px; right:10px;top: 0px;left: 0px;">
        <iframe class="sticky" src="chatbot/index.html" style="overflow:scroll;width:100%;height:100%;"></iframe>
    </div>
	<p id="result"></p>
	<label for="name" class="col-lg-2 control-label">Enter Batch ID</label>
    <input id="BID" type="text">
     <button id="button">View FullData</button>


	<script>

        if (typeof web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
        } else {
            // set the provider you want from Web3.providers
            web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
        }
        console.log(web3);
        web3.eth.defaultAccount = web3.eth.accounts[0];

        var CoursetroContract = web3.eth.contract([
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "_address",
		                "type": "address"
		            }
		        ],
		        "name": "getInstructor",
		        "outputs": [
		            {
		                "name": "",
		                "type": "uint256"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "_address",
		                "type": "address"
		            }
		        ],
		        "name": "fullData",
		        "outputs": [
		            {
		                "name": "",
		                "type": "uint256"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": false,
		        "inputs": [
		            {
		                "name": "_add",
		                "type": "address"
		            },
		            {
		                "name": "_bn",
		                "type": "uint256"
		            },
		            {
		                "name": "_name",
		                "type": "string"
		            },
		            {
		                "name": "_cn",
		                "type": "string"
		            },
		            {
		                "name": "_manu_date",
		                "type": "string"
		            },
		            {
		                "name": "_ex_date",
		                "type": "string"
		            },
		            {
		                "name": "_price",
		                "type": "string"
		            }
		        ],
		        "name": "setInstructor",
		        "outputs": [],
		        "payable": false,
		        "stateMutability": "nonpayable",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "",
		                "type": "address"
		            }
		        ],
		        "name": "instructors",
		        "outputs": [
		            {
		                "name": "BN",
		                "type": "uint256"
		            },
		            {
		                "name": "name",
		                "type": "string"
		            },
		            {
		                "name": "cn",
		                "type": "string"
		            },
		            {
		                "name": "ex_date",
		                "type": "string"
		            },
		            {
		                "name": "manu_date",
		                "type": "string"
		            },
		            {
		                "name": "price",
		                "type": "string"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": false,
		        "inputs": [
		            {
		                "name": "_add",
		                "type": "address"
		            },
		            {
		                "name": "_bn",
		                "type": "uint256"
		            },
		            {
		                "name": "_name",
		                "type": "string"
		            },
		            {
		                "name": "_cn",
		                "type": "string"
		            },
		            {
		                "name": "_manu_date",
		                "type": "string"
		            },
		            {
		                "name": "_ex_date",
		                "type": "string"
		            },
		            {
		                "name": "_price",
		                "type": "string"
		            },
		            {
		                "name": "_data",
		                "type": "string"
		            },
		            {
		                "name": "_tt",
		                "type": "string"
		            }
		        ],
		        "name": "setTransData",
		        "outputs": [],
		        "payable": false,
		        "stateMutability": "nonpayable",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [],
		        "name": "getInstructors",
		        "outputs": [
		            {
		                "name": "",
		                "type": "address[]"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "",
		                "type": "uint256"
		            }
		        ],
		        "name": "transportAccts",
		        "outputs": [
		            {
		                "name": "",
		                "type": "address"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "",
		                "type": "uint256"
		            }
		        ],
		        "name": "instructorAccts",
		        "outputs": [
		            {
		                "name": "",
		                "type": "address"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "",
		                "type": "address"
		            }
		        ],
		        "name": "transports",
		        "outputs": [
		            {
		                "name": "BN",
		                "type": "uint256"
		            },
		            {
		                "name": "name",
		                "type": "string"
		            },
		            {
		                "name": "cn",
		                "type": "string"
		            },
		            {
		                "name": "ex_date",
		                "type": "string"
		            },
		            {
		                "name": "manu_date",
		                "type": "string"
		            },
		            {
		                "name": "price",
		                "type": "string"
		            },
		            {
		                "name": "data",
		                "type": "string"
		            },
		            {
		                "name": "timeTaken",
		                "type": "string"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [
		            {
		                "name": "_address",
		                "type": "address"
		            }
		        ],
		        "name": "getTransports",
		        "outputs": [
		            {
		                "name": "",
		                "type": "string"
		            },
		            {
		                "name": "",
		                "type": "string"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [],
		        "name": "countInstructors",
		        "outputs": [
		            {
		                "name": "",
		                "type": "uint256"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [],
		        "name": "countTransports",
		        "outputs": [
		            {
		                "name": "",
		                "type": "uint256"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    },
		    {
		        "constant": true,
		        "inputs": [],
		        "name": "getTransportAccts",
		        "outputs": [
		            {
		                "name": "",
		                "type": "address[]"
		            }
		        ],
		        "payable": false,
		        "stateMutability": "view",
		        "type": "function"
		    }
		]);
        var Coursetro = CoursetroContract.at('0x1da81c42791ffa13da124d1b11b621ca71c7af65');
        console.log(Coursetro);
        /*Coursetro.getInstructor(web3.eth.defaultAccount,function(error, result){
            if(!error)
                {
                    $("#instructor").html(result[1]);
                    console.log(result);

                }
            else
                console.error(error);
        });*/
        $("#button").click(function() {
            //$("#loader").show();
            var res=Coursetro.fullData($('#BID').val());
            console.log(res);
            $('#result').html(res);
       });
    </script>
</body>
</html>